library(devtools)
document()
library(RcppML) # need the dev version (install from GitHub)
library(microbenchmark) # install.packages("microbenchmark")
library(ggplot2) # install.packages("ggplot2")
data(hawaiibirds) # provided in the RcppML package
nmf_model <- FastNMF(hawaiibirds$counts, k = 10)
str(nmf_model)
document()
nmf_model2 <- FastNMF(hawaiibirds$counts, k = 10)
str(nmf_model2)
heatmap(nmf_model2$w, nmf_model$w)
str(nmf_model)
str(nmf_model2)
heatmap(RcppML::cosine(t(nmf_model2$w), t(nmf_model$w)))
document()
set.seed(123)
nmf_model <- FastNMF(hawaiibirds$counts, k = 10, mode = 1)
set.seed(123)
nmf_model <- FastNMF(hawaiibirds$counts, k = 10, mode = 2)
set.seed(123)
nmf_model2 <- FastNMF(hawaiibirds$counts, k = 10, mode = 1)
str(nmf_model)
str(nmf_model2)
heatmap(RcppML::cosine(t(nmf_model$h), t(nmf_model2$h)), scale = "none")
mb <- microbenchmark(
FastNMF(hawaiibirds$counts, k = 10, mode = 1),
FastNMF(hawaiibirds$counts, k = 10, mode = 2),
times = 10)
mb
autoplot(mb)
mb <- microbenchmark(
FastNMF(hawaiibirds$counts, k = 10, mode = 1),
FastNMF(hawaiibirds$counts, k = 10, mode = 2),
times = 100)
autoplot(mb)
mb

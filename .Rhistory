library(devtools)
document()
library(RcppML) # need the dev version (install from GitHub)
library(microbenchmark) # install.packages("microbenchmark")
library(ggplot2) # install.packages("ggplot2")
data(hawaiibirds) # provided in the RcppML package
nmf_model <- FastNMF(hawaiibirds$counts, k = 10)
str(nmf_model)
document()
nmf_model2 <- FastNMF(hawaiibirds$counts, k = 10)
str(nmf_model2)
heatmap(nmf_model2$w, nmf_model$w)
str(nmf_model)
str(nmf_model2)
heatmap(RcppML::cosine(t(nmf_model2$w), t(nmf_model$w)))
document()
set.seed(123)
nmf_model <- FastNMF(hawaiibirds$counts, k = 10, mode = 1)
set.seed(123)
nmf_model <- FastNMF(hawaiibirds$counts, k = 10, mode = 2)
set.seed(123)
nmf_model2 <- FastNMF(hawaiibirds$counts, k = 10, mode = 1)
str(nmf_model)
str(nmf_model2)
heatmap(RcppML::cosine(t(nmf_model$h), t(nmf_model2$h)), scale = "none")
mb <- microbenchmark(
FastNMF(hawaiibirds$counts, k = 10, mode = 1),
FastNMF(hawaiibirds$counts, k = 10, mode = 2),
times = 10)
mb
autoplot(mb)
mb <- microbenchmark(
FastNMF(hawaiibirds$counts, k = 10, mode = 1),
FastNMF(hawaiibirds$counts, k = 10, mode = 2),
times = 100)
autoplot(mb)
mb
Rcpp::sourceCpp("src/nmf.cpp")
Rcpp::sourceCpp("src/nmf.cpp")
rand_spmat(10, 10, 16, 129874)
rand_spmat(10, 10, 16, 129874)
rand_spmat(10, 10, 16, 129874)
rand_spmat(10, 10, 16, 129874)
rand_spmat(10, 10, 16, 129874483)
rand_spmat(10, 100, 16, 129874483)
rand_mat(10, 10, 289374)
hist(rand_mat(10, 10, 289374))
hist(rand_mat(100, 100, 289374))
Rcpp::sourceCpp("src/nmf.cpp")
Rcpp::sourceCpp("src/nmf.cpp")
Rcpp::sourceCpp("src/nmf.cpp")
Rcpp::sourceCpp("src/nmf.cpp")
Rcpp::sourceCpp("src/nmf.cpp")
Rcpp::sourceCpp("src/nmf.cpp")
c_nmf_rand(198273874, 100, 100, 10, 10, 1e-4, 100, FALSE, 0, 0)
c_nmf_rand(198273874, 1000, 1000, 10, 10, 1e-4, 100, FALSE, 0, 0)
c_nmf_rand(198273874, 1000, 1000, 10, 10, 1e-5, 100, FALSE, 0, 0)
Rcpp::sourceCpp("src/nmf.cpp")
c_nmf_rand(198273874, 1000, 1000, 10, 10, 1e-5, 100, FALSE, 0, 0)
Rcpp::sourceCpp("src/nmf.cpp")
Rcpp::sourceCpp("src/nmf.cpp")
Rcpp::sourceCpp("src/nmf.cpp")
v <- run_benchmarking()
v
length(v)
Rcpp::sourceCpp("src/nmf.cpp")
v <- run_benchmarking()
length(v)
Rcpp::sourceCpp("src/nmf.cpp")
Rcpp::sourceCpp("src/nmf.cpp")
v <- run_benchmarking()
length(v)
Rcpp::sourceCpp("src/nmf.cpp")
library(devtools)
document()
document()
library(devtools)
devtools::install_github("zdebruine/FastNMF")
library(devtools)
install_github("zdebruine/FastNMF")
library(FastNMF)
v <- run_benchmarking()
Rcpp::sourceCpp("src/nmf.cpp")
getwd()
document()
